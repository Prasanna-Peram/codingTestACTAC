{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      books: [],\n      successMessage: ''\n    };\n  },\n  mounted() {\n    this.fetchBooks();\n  },\n  methods: {\n    fetchBooks() {\n      axios.get('books').then(response => {\n        this.books = response.data;\n      });\n    },\n    deleteBook(id) {\n      if (confirm('Are you sure you want to delete this book?')) {\n        axios.delete(`books/delete/${id}}`).then(() => {\n          this.successMessage = 'Book deleted successfully!';\n        }).catch(error => {\n          this.errorMessage = 'Failed to delete the book. Please try again.';\n          console.error(error);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","books","successMessage","mounted","fetchBooks","methods","get","then","response","deleteBook","id","confirm","delete","catch","error","errorMessage","console"],"sources":["src/components/BookList.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h2>All Books</h2>\r\n        <router-link to=\"/create\" class=\"btn btn-primary mb-3\">Add New Book</router-link>\r\n        <div  class=\"container mt-5\">\r\n            <table class=\"table table-striped table-responsive\">\r\n                <thead>\r\n                    <tr>\r\n                        <th >Title</th>\r\n                        <th>Author</th>\r\n                        <th>Genre</th>\r\n                        <th>Published Year</th>\r\n                        <th>Description</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"book in books\" :key=\"book.id\">\r\n                        <td>{{ book.title }}</td>\r\n                        <td>{{ book.author }}</td>\r\n                        <td>{{ book.genre }}</td>\r\n                        <td>{{ book.published_year }}</td>\r\n                        <td>{{ book.description }}</td>\r\n                        <td>\r\n                            <router-link :to=\"{ name: 'edit', params: { id: book.id } }\" class=\"btn btn-warning btn-sm mr-2\">Edit</router-link> <br/>\r\n                            <button @click=\"deleteBook(book.id)\" class=\"btn btn-danger btn-sm\">Delete</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            books: [],\r\n             successMessage: ''\r\n        };\r\n    },\r\n    mounted() {\r\n        this.fetchBooks();\r\n    },\r\n    methods: {\r\n        fetchBooks() {\r\n            axios.get('books')\r\n                .then(response => {\r\n                    this.books = response.data;\r\n                });\r\n        },\r\n        deleteBook(id) {\r\n                 if (confirm('Are you sure you want to delete this book?')) {\r\n                axios.delete(`books/delete/${id}}`)\r\n                    .then(() => {\r\n                          this.successMessage = 'Book deleted successfully!';\r\n                       \r\n                    })\r\n                     .catch(error => {\r\n                    this.errorMessage = 'Failed to delete the book. Please try again.';\r\n                    console.error(error);\r\n                });\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n"],"mappings":"AAmCA,OAAAA,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,cAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,UAAA;EACA;EACAC,OAAA;IACAD,WAAA;MACAL,KAAA,CAAAO,GAAA,UACAC,IAAA,CAAAC,QAAA;QACA,KAAAP,KAAA,GAAAO,QAAA,CAAAR,IAAA;MACA;IACA;IACAS,WAAAC,EAAA;MACA,IAAAC,OAAA;QACAZ,KAAA,CAAAa,MAAA,iBAAAF,EAAA,KACAH,IAAA;UACA,KAAAL,cAAA;QAEA,GACAW,KAAA,CAAAC,KAAA;UACA,KAAAC,YAAA;UACAC,OAAA,CAAAF,KAAA,CAAAA,KAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}